<%= render 'layouts/navbar' %>
<style>
  /* Custom styling for the channel form */
.card {
  border-radius: 10px;
  overflow: hidden;
}

.card-header {
  border-bottom: none;
}

.form-control-lg {
  border-radius: 8px;
}

.btn-lg {
  padding: 0.5rem 1.5rem;
  border-radius: 8px;
}

.invalid-feedback {
  display: none;
  width: 100%;
  margin-top: 0.25rem;
  font-size: 0.875em;
  color: #dc3545;
}

.was-validated .form-control:invalid ~ .invalid-feedback {
  display: block;
}
</style>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow">
<div class="card-header text-white" style="background-color: #1c2e4a;">
          <div class="d-flex align-items-center">
            <%= image_tag 'channel-icon.png', class: 'me-3', style: 'width: 40px; height: 40px;' %>
            <h1 class="h4 mb-0">Create New Channel</h1>
          </div>
        </div>
        
        <div class="card-body">
          <%= form_with model: @channel, local: true, html: { class: 'needs-validation', novalidate: true } do |form| %>
            <div class="mb-4">
              <%= form.label :name, class: "form-label fw-bold" %>
              <%= form.text_field :name, class: "form-control form-control-lg", placeholder: "Enter channel name", required: true %>
              <div class="invalid-feedback">
                Please provide a channel name.
              </div>
            </div>

            <div class="mb-4">
              <%= form.label :description, class: "form-label fw-bold" %>
              <%= form.text_area :description, class: "form-control", rows: 3, placeholder: "Describe your channel..." %>
            </div>

            <div class="row">
              <div class="col-md-6 mb-4">
                   <%= form.label :visibility, "Channel Visibility" %>
                    <%= form.text_field :visibility, class: "form-control", placeholder: "Enter 'public', 'private', or 'unlisted'" %>
              </div>
              
              <div class="col-md-6 mb-4">
                <%= form.label :logo, class: "form-label fw-bold" %>
                <%= form.file_field :logo, class: "form-control" %>
                <small class="text-muted">Recommended size: 256x256 pixels</small>
              </div>
            </div>

            <div class="d-grid gap-2">
              <%= form.submit "Create Channel", class: "btn btn-primary btn-lg" %>
              <%= link_to "Cancel", channels_path, class: "btn btn-outline-secondary" %>
            </div>
          <% end %>
        </div>
        
        <div class="card-footer bg-light">
          <small class="text-muted">Channels help you organize your content and community</small>
        </div>
      </div>
    </div>
  </div>
</div>
