<!-- app/views/users/show.html.erb -->
<style>
  .profile-card {
  background: #fff;
  border-radius: 1rem;
}

img.avatar-preview, .rounded-circle {
  max-width: 150px;
  height: auto;
  object-fit: cover;
}

</style>
<%= render 'layouts/navbar' %>

<div class="profile-edit-container py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-10 col-lg-8">
        <div class="profile-card shadow p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="mb-0"><i class="fas fa-user me-2"></i>Profile Overview</h3>
            <%= link_to 'Edit Profile', edit_user_path(@user), class: 'btn btn-outline-dark btn-sm' %>
          </div>

          <div class="row g-4">
            <!-- Avatar Section -->
            <div class="col-md-4 text-center">
              <%= image_tag(@user.avatar.attached? ? url_for(@user.avatar) : 'avatar.jpg',
                            class: 'img-fluid rounded-circle border border-2',
                            alt: "#{@user.name}'s avatar") %>
            </div>

            <!-- Profile Info Section -->
            <div class="col-md-8">
              <div class="mb-2">
                <label class="form-label fw-bold">Full Name</label>
                <div><%= @user.name.presence || 'Not provided' %></div>
              </div>

              <div class="mb-2">
                <label class="form-label fw-bold">Professional Title</label>
                <div><%= @user.title.presence || 'Not specified' %></div>
              </div>

              <div class="mb-2">
                <label class="form-label fw-bold">Pronouns</label>
                <div><%= @user.pronouns.presence || 'Not shared' %></div>
              </div>

              <div class="mb-2">
                <label class="form-label fw-bold">Account Type</label>
                <div><%= @user.account_type.presence || 'Unspecified' %></div>
              </div>

              <div class="mb-2">
                <label class="form-label fw-bold">Bio</label>
                <div><%= @user.bio.presence || 'This user has not written a bio yet.' %></div>
              </div>
            </div>
          </div>


          <div class="text-end mt-4">
                 <%# <%= button_to 'Delete Account', user_path(@user), method: :delete, data: { confirm: "Are you sure? This will deactivate your account." }, class: 'btn btn-danger' %> 
              <%= link_to 'Back to Dashboard', dashboard_users_path, class: 'btn btn-secondary' %> 
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
